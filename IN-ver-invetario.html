<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administracion</title>
    <!-- Boxicons CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/nav.css" />
    <link rel="stylesheet" href="css/sidebar.css" />
    <link rel="stylesheet" href="css/base.css" />


    <!-- especifico de la vista-->
    <link rel="stylesheet" href="css/inventario/ver-inventario.css" />
    <style>

    </style>

</head>
<body>
    <div class="container">
    <!-- En vez de incluir directamente -->
    <!-- sidebar.html -->


        <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div style="display: flex; align-items: center;">
            <span style="font-size: 20px; font-weight: 600; margin-left: 10px; color: #1a73e8;">ElderCare</span>
            </div>
        </div>
        <div class="sidebar-menu ">
            
            <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
            <i class='bx bx-layer'></i>
            <span>Inventario de Medicamentos</span>
            </div>
            <div class="submenu">
            <a href="IN-ver-invetario.html" class="submenu-item">
                <span>Ver Inventario</span>
            </a>
            <a href="IN-registrar-medicamento.html" class="submenu-item">
                <span>Registrar Nuevo Medicamento</span>
            </a>
            <a href="IN-exportar.html" class="submenu-item">
                <span>Exportar Stock</span>
            </a>
            </div>
            <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                <i class='bx bx-bar-chart'></i>
                <span>Tratamientos Médicos</span>
                </div>
                <div class="submenu">
                <a href="TR-tratamiento.html" class="submenu-item">
                    <span>Tratamientos por Residente</span>
            </div>
            <!-- Sección de Pedidos y Ventas -->
            <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                <i class='bx bx-bar-chart'></i>
                <span>Informes</span>
            </div>
            <div class="submenu">
                <a href="INFO-alertas-stock.html" class="submenu-item">
                    <span>Alertas de stock Bajo</span>
                </a>
            </div>
        </div>


        </div>
        <script>
        function toggleSubmenu(element) {
            const submenu = element.nextElementSibling;
            submenu.classList.toggle('expanded');
            element.classList.toggle('expanded');
        }
        
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }
        
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const menuToggle = document.querySelector('.menu-toggle');
            
            if (
            window.innerWidth <= 768 &&
            !sidebar.contains(event.target) &&
            !menuToggle.contains(event.target) &&
            sidebar.classList.contains('open')
            ) {
            sidebar.classList.remove('open');
            overlay.classList.remove('active');
            }
        });
        
        window.addEventListener('resize', function() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            
            if (window.innerWidth > 768) {
            sidebar.classList.remove('open');
            overlay.classList.remove('active');
            }
        });
        </script>


    <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>
    <div class="main-content">
        <div class="app-header">
            <div class="header-info-group">
                <button class="sidebar-toggle-btn" onclick="toggleSidebar()">
                    <i class='bx bx-menu'></i>
                </button>
        
            <div class="page-title-nav"> Administracion</div>
                <span class="role-badge-nav">Jefe Enfermeria</span>
            </div>
            <!-- Acciones de la barra de navegación superior -->
            <div class="header-action-list">
                <!-- ========  Cerrar sesión (POST)  ======== -->
                <form id="logout-form" action=""  method="post" style="display:inline;">

                    <button type="submit" class="action-btn logout-btn" title="Cerrar sesión" aria-label="Cerrar sesión">
                        <i class='bx bx-log-out'></i>
                        <span>Cerrar sesión</span>
                    </button>
                </form>
            </div>
        </div>
        
        <!-- Contenido Principal -->
        <div class="content-area">
            <div class="inventory-view">
                <!-- Title added to match the reference image style -->
                <h2 class="view-title">Registro de Inventario</h2>
            
                <!-- Filter/Search Bar - Styled to look similar to the reference filter -->
                <div class="controls-bar">
                    <div class="search-filter-container">
                        <div class="search-container">
                            <i class='bx bx-search search-icon'></i>
                            <input type="search" placeholder="Buscar medicamento..." class="search-input">
                        </div>
                        <button class="filter-toggle-btn" onclick="toggleFilterDrawer()">
                            <i class='bx bx-filter-alt'></i>
                            <span>Filtros</span>
                        </button>
                    </div>

                </div>
            
                <div class="inventory-main">
                    <div class="table-container">
                        <table class="data-table inventory-table"> <!-- Added 'data-table' class for shared styles -->
                            <thead>
                                <tr>
                                    <!-- Added icons to headers like reference -->
                                    <th><i class='bx bx-capsule'></i> Nombre</th>
                                    <th><i class='bx bx-capsule'></i> Graduacion</th>
                                    <th><i class='bx bx-barcode'></i> Código</th>
                                    <th><i class='bx bx-package'></i> Stock</th>

                                    <th><i class='bx bx-map-pin'></i> Ubicación</th>
                                    <th><i class='bx bx-category-alt'></i> Categoría</th>
                                    <th><i class='bx bx-check-shield'></i> Estado stock</th>
                                    <th><i class='bx bx-cog'></i> Acciones</th> <!-- Added Actions Column -->
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Paracetamol</td>
                                    <td>500mg</td>
                                    <td>51515155</td>
                                    <td>150</td>

                                    <td>Estante A1</td>
                                    <td>Analgésicos</td>
                                    <td><span class="status-badge status-active"><i class='bx bxs-check-circle'></i> Activo</span></td>
                                    <td>
                                        <button class="btn-action btn-details"><i class='bx bx-info-circle'></i> Detalles</button>
                                    </td>
                                </tr>
                                <tr class="low-stock"> <!-- Keep class for potential specific styling if needed -->
                                    <td>Ibuprofeno</td>
                                    <td>400mg</td>
                                    <td>532532553</td>
                                    <td>
                                       <span class="low-stock-indicator" title="Stock bajo"></i></span> 8
                                    </td>

                                    <td>Estante B2</td>
                                    <td>Antiinflamatorios</td>
                                    <!-- Changed status to reflect low stock -->
                                    <td><span class="status-badge status-low-stock"><i class='bx bxs-error-alt'></i> Stock Bajo</span></td>
                                     <td>
                                        <button class="btn-action btn-details"><i class='bx bx-info-circle'></i> Detalles</button>
                                    </td>
                                </tr>
                                <tr class="expired"> <!-- Keep class for potential specific styling if needed -->
                                    <td>Amoxicilina</td>
                                    <td>500mg</td>
                                    <td>6545654654</td>
                                    <td>0</td>

                                    <td>Estante C3</td>
                                    <td>Antibióticos</td>
                                    <td><span class="status-badge status-expired"><i class='bx bxs-calendar-x'></i> Sin stock</span></td>
                                     <td>
                                        <button class="btn-action btn-details"><i class='bx bx-info-circle'></i> Detalles</button>
                                    </td>
                                </tr>
                                 <tr>
                                    <td>Loratadina </td>
                                    <td>10mg</td>
                                    <td>523432333222111</td>
                                    <td>75</td>
                                    <td>Estante A1</td>
                                    <td>Antihistamínicos</td>
                                    <td><span class="status-badge status-active"><i class='bx bxs-check-circle'></i> Activo</span></td>
                                     <td>
                                        <button class="btn-action btn-details"><i class='bx bx-info-circle'></i> Detalles</button>
                                    </td>

                               </tbody>
                        </table>
                    </div>
            
                    <div class="pagination">
                        <div class="rows-per-page">
                            <label for="rows-select">Filas por página:</label>
                            <select id="rows-select">
                                <option value="10">10</option>
                                <option value="25" selected>25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                        <div class="page-info">
                            <span>Página 1 de 5</span>
                            <button class="pagination-btn" title="Página anterior" aria-label="Página anterior"><i class='bx bx-chevron-left'></i></button>
                            <button class="pagination-btn" title="Página siguiente" aria-label="Página siguiente"><i class='bx bx-chevron-right'></i></button>
                        </div>
                    </div>
                </div>
            
                <!-- Filter Drawer remains functionally the same, but we'll style it -->
                <div class="filter-drawer" id="filterDrawer">
                    <div class="filter-drawer-header">
                        <h3><i class='bx bx-filter-alt'></i> Filtros</h3>
                        <button class="close-drawer-btn" onclick="toggleFilterDrawer()" title="Cerrar filtros" aria-label="Cerrar filtros"><i class='bx bx-x'></i></button>
                    </div>
                    <div class="filter-drawer-content">
                        <div class="filter-section">
                            <h4>Categorías</h4>
                            <div class="chip-group">
                                <span class="chip">Analgésicos</span>
                                <span class="chip selected">Antibióticos</span>
                                <span class="chip">Antiinflamatorios</span>
                                <span class="chip">Antihistamínicos</span>
                                <span class="chip">Gástricos</span>
                                <!-- Add more chips as needed -->
                            </div>
                        </div>
                        <div class="filter-section">
                            <h4>Rango de Vencimiento</h4>
                             <label for="vencimiento-start">Desde:</label>
                             <input type="date" id="vencimiento-start" class="date-filter">
                             <label for="vencimiento-end">Hasta:</label>
                             <input type="date" id="vencimiento-end" class="date-filter">
                        </div>
                         <div class="filter-section">
                             <h4>Estado</h4>
                             <div class="chip-group">
                                 <span class="chip">Activo</span>
                                 <span class="chip">Stock Bajo</span>
                                 <span class="chip">Expirado</span>
                             </div>
                         </div>
                    </div>
                     <div class="filter-actions">
                         <button class="btn btn-primary">Aplicar Filtros</button>
                         <button class="btn btn-secondary">Limpiar</button>
                     </div>
                </div>
                 <div class="filter-overlay" id="filterOverlay" onclick="toggleFilterDrawer()"></div>
            
            

            
            </div>
            
            <!-- Keep the existing script -->
            <script>
                function toggleFilterDrawer() {
                    document.getElementById('filterDrawer').classList.toggle('open');
                    document.getElementById('filterOverlay').classList.toggle('active'); // Muestra/oculta el overlay
                }
            
                // Opcional: Añadir funcionalidad a los chips para que cambien de estado visualmente
                document.querySelectorAll('.chip').forEach(chip => {
                    chip.addEventListener('click', () => {
                        // Allow selecting multiple chips within the same group
                        chip.classList.toggle('selected');
                        // If only one chip should be selected per group, use this logic:
                        // const group = chip.closest('.chip-group');
                        // group.querySelectorAll('.chip').forEach(c => c.classList.remove('selected'));
                        // chip.classList.add('selected');
                    });
                });
            </script>
        </div>
    </div>
  </div>
  
</body>

</html>
